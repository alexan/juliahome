{"version":3,"sources":["../../src/js/workGallery.js"],"names":["layout","masnory","works","forEach","work","workImage","querySelector","WORK_IMAGE_SELECTOR","WORK_IMAGE_COPY_SELECTOR","setAttribute","offsetWidth","galleries","document","querySelectorAll","workGallery","copyImage","cloneNode","classList","add","append","Masonry","itemSelector","resize","originLeft","imagesLoaded","on","push","window","onresize","event","gallery"],"mappings":"CAAA,WA4CI,QAASA,GAAOC,EAASC,GACrBA,EAAMC,QAAQ,SAASC,GACnB,GAAIC,GAAYD,EAAKE,cAAcC,EACnBH,GAAKE,cAAcE,GAEzBC,aAAY,QAAU,UAAYJ,EAAUK,YAAc,SAGxET,EAAQD,SAnDZ,GAEIO,GAAsB,cAEtBC,EAA2B,wBAE3BG,IAEgBC,UAASC,iBARN,iBAUTV,QAAQ,SAASW,GAC3B,GAAIZ,GAAQY,EAAYD,iBAVR,QAYhBX,GAAMC,QAAQ,SAASC,GACnB,GAAIC,GAAYD,EAAKE,cAAcC,GAC/BQ,EAAYV,EAAUW,WAC1BD,GAAUE,UAAUC,IAbA,wBAepBd,EAAKe,OAAOJ,IAGhB,IAAId,GAAU,GAAImB,SAAQN,GAClBO,aArBQ,QAsBRC,QAAQ,EACRC,YAAY,GAGpBC,cAAaV,GAAaW,GAAE,WAAa,WACrCzB,EAAOC,EAASC,KAGpBS,EAAUe,MACNxB,MAAOA,EACPD,QAASA,MAIjB0B,OAAOC,SAAW,SAASC,GACvBlB,EAAUR,QAAQ,SAAS2B,GACvB9B,EAAO8B,EAAQ7B,QAAS6B,EAAQ5B","file":"main.js","sourcesContent":["(function() {\n    var GALLERY_SELECTOR = '.work-gallery';\n    var WORK_SELECOTR = '.work';\n    var WORK_IMAGE_SELECTOR = '.work-image';\n    var WORK_IMAGE_COPY_CLASS = 'work-image--absolute';\n    var WORK_IMAGE_COPY_SELECTOR = '.' + WORK_IMAGE_COPY_CLASS;\n\n    var galleries = []; \n    \n    var workGalleries = document.querySelectorAll(GALLERY_SELECTOR);\n\n    workGalleries.forEach(function(workGallery) {\n        var works = workGallery.querySelectorAll(WORK_SELECOTR);\n    \n        works.forEach(function(work) {\n            var workImage = work.querySelector(WORK_IMAGE_SELECTOR);\n            var copyImage = workImage.cloneNode();\n            copyImage.classList.add(WORK_IMAGE_COPY_CLASS);\n\n            work.append(copyImage);\n        });\n        \n        var masnory = new Masonry(workGallery, {\n                itemSelector: WORK_SELECOTR,\n                resize: false,\n                originLeft: true\n        });\n        \n        imagesLoaded(workGallery).on('progress', function() {\n            layout(masnory, works);\n        });\n\n        galleries.push({\n            works: works,\n            masnory: masnory\n        });\n    });\n\n    window.onresize = function(event) {\n        galleries.forEach(function(gallery) {\n            layout(gallery.masnory, gallery.works);\n        });\n    };\n\n    function layout(masnory, works) {\n        works.forEach(function(work) {\n            var workImage = work.querySelector(WORK_IMAGE_SELECTOR);\n            var copyImage = work.querySelector(WORK_IMAGE_COPY_SELECTOR);\n\n            copyImage.setAttribute('style', 'width: ' + workImage.offsetWidth + 'px;');\n        });\n        \n        masnory.layout();\n    }\n})();\n\n\n"]}